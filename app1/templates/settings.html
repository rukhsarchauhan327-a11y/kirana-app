<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Kirana Konnect</title>
    <script src="/static/js/tailwind.js"></script>
    <link rel="stylesheet" href="/static/css/fontawesome.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#64748b',
                        accent: '#f59e0b',
                        success: '#10b981',
                        danger: '#ef4444',
                        dark: '#1e293b',
                        light: '#f8fafc'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                        sans: ['Inter', 'sans-serif']
                    }
                }
            }
        };
    </script>
    
    <link rel="preconnect" 
    <link rel="stylesheet" href="/static/css/fonts.css">
    <style>
        body {
            font-family: 'Inter', sans-serif !important;
        }
        .fa, .fas, .far, .fal, .fab {
            font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
        }
        ::-webkit-scrollbar {
            display: none;
        }
        html, body {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .toggle-switch {
            width: 48px;
            height: 24px;
            background-color: #d1d5db;
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .toggle-switch.active {
            background-color: #2563eb;
        }
        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .toggle-switch.active::after {
            transform: translateX(24px);
        }
    </style>
</head>
<body class="font-inter bg-gray-50">
    <!-- Header Section -->
    <header class="bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-10">
        <div class="flex items-center justify-between px-4 py-3">
            <button onclick="goBack()" class="p-2 hover:bg-gray-100 rounded-lg">
                <i class="fa-solid fa-arrow-left text-gray-600 text-lg"></i>
            </button>
            <div class="text-center">
                <h1 class="text-lg font-semibold text-dark">Settings</h1>
                <p class="text-xs text-gray-500">Application Preferences</p>
            </div>
            <button onclick="saveSettings()" class="p-2 hover:bg-gray-100 rounded-lg">
                <i class="fa-solid fa-save text-gray-600 text-lg"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-16 pb-20 bg-gray-50">
        <!-- Profile Section -->
        <div class="px-4 py-4">
            <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-100 mb-4">
                <div class="flex items-center space-x-4">
                    <div class="w-16 h-16 rounded-full bg-primary flex items-center justify-center">
                        <span class="text-white font-bold text-xl">RK</span>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-dark text-lg">Raj Kumar Store</h3>
                        <p class="text-gray-600">raj.kumar@email.com</p>
                        <p class="text-sm text-gray-500">+91 98765 43210</p>
                    </div>
                    <button onclick="editProfile()" class="bg-gray-100 p-2 rounded-lg">
                        <i class="fa-solid fa-edit text-gray-600"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Settings Sections -->
        <div class="px-4 space-y-4">
            <!-- Store Settings -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-dark flex items-center">
                        <i class="fa-solid fa-store text-primary mr-2"></i>
                        Store Settings
                    </h3>
                </div>
                <div class="p-4 space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Store Name</p>
                            <p class="text-sm text-gray-500">Raj Kumar General Store</p>
                        </div>
                        <button onclick="editStoreName()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Store Address</p>
                            <p class="text-sm text-gray-500">123 Main Street, Delhi 110001</p>
                        </div>
                        <button onclick="editAddress()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">GST Number</p>
                            <p class="text-sm text-gray-500">07AAACH7409R1ZZ</p>
                        </div>
                        <button onclick="editGST()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Inventory Settings -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-dark flex items-center">
                        <i class="fa-solid fa-box text-accent mr-2"></i>
                        Inventory Settings
                    </h3>
                </div>
                <div class="p-4 space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Low Stock Alerts</p>
                            <p class="text-sm text-gray-500">Get notified when items are running low</p>
                        </div>
                        <div class="toggle-switch active" data-setting="lowStockAlerts"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Expiry Alerts</p>
                            <p class="text-sm text-gray-500">Notifications for expiring products</p>
                        </div>
                        <div class="toggle-switch active" data-setting="expiryAlerts"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Auto-reorder Suggestions</p>
                            <p class="text-sm text-gray-500">Smart reorder recommendations</p>
                        </div>
                        <div class="toggle-switch" data-setting="autoReorder"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Low Stock Threshold</p>
                            <p class="text-sm text-gray-500">Default minimum quantity: 10 units</p>
                        </div>
                        <button onclick="setThreshold()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Billing Settings -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-dark flex items-center">
                        <i class="fa-solid fa-receipt text-success mr-2"></i>
                        Billing Settings
                    </h3>
                </div>
                <div class="p-4 space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Auto Print Receipts</p>
                            <p class="text-sm text-gray-500">Print receipt after each sale</p>
                        </div>
                        <div class="toggle-switch active" data-setting="autoPrint"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Include GST</p>
                            <p class="text-sm text-gray-500">Add GST to all transactions</p>
                        </div>
                        <div class="toggle-switch active" data-setting="includeGST"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Default Payment Method</p>
                            <p class="text-sm text-gray-500">Cash</p>
                        </div>
                        <button onclick="setPaymentMethod()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Credit Limit</p>
                            <p class="text-sm text-gray-500">Default customer credit: ₹5,000</p>
                        </div>
                        <button onclick="setCreditLimit()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Notification Settings -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-dark flex items-center">
                        <i class="fa-solid fa-bell text-accent mr-2"></i>
                        Notifications
                    </h3>
                </div>
                <div class="p-4 space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Push Notifications</p>
                            <p class="text-sm text-gray-500">Receive app notifications</p>
                        </div>
                        <div class="toggle-switch active" data-setting="pushNotifications"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">SMS Alerts</p>
                            <p class="text-sm text-gray-500">SMS for important updates</p>
                        </div>
                        <div class="toggle-switch" data-setting="smsAlerts"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Email Reports</p>
                            <p class="text-sm text-gray-500">Daily/weekly business reports</p>
                        </div>
                        <div class="toggle-switch active" data-setting="emailReports"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Customer Reminders</p>
                            <p class="text-sm text-gray-500">Auto-send payment reminders</p>
                        </div>
                        <div class="toggle-switch active" data-setting="customerReminders"></div>
                    </div>
                </div>
            </div>

            <!-- Security Settings -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-dark flex items-center">
                        <i class="fa-solid fa-shield text-danger mr-2"></i>
                        Security & Privacy
                    </h3>
                </div>
                <div class="p-4 space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Change Password</p>
                            <p class="text-sm text-gray-500">Update your account password</p>
                        </div>
                        <button onclick="changePassword()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Two-Factor Authentication</p>
                            <p class="text-sm text-gray-500">Extra security for your account</p>
                        </div>
                        <div class="toggle-switch" data-setting="twoFactor"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Data Backup</p>
                            <p class="text-sm text-gray-500">Auto-backup to cloud storage</p>
                        </div>
                        <div class="toggle-switch active" data-setting="dataBackup"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Privacy Settings</p>
                            <p class="text-sm text-gray-500">Manage data sharing preferences</p>
                        </div>
                        <button onclick="privacySettings()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- App Settings -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-dark flex items-center">
                        <i class="fa-solid fa-mobile text-secondary mr-2"></i>
                        App Settings
                    </h3>
                </div>
                <div class="p-4 space-y-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Dark Mode</p>
                            <p class="text-sm text-gray-500">Use dark theme</p>
                        </div>
                        <div class="toggle-switch" data-setting="darkMode"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Language</p>
                            <p class="text-sm text-gray-500">English</p>
                        </div>
                        <button onclick="changeLanguage()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">Currency</p>
                            <p class="text-sm text-gray-500">Indian Rupee (₹)</p>
                        </div>
                        <button onclick="changeCurrency()" class="text-primary">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-medium text-dark">App Version</p>
                            <p class="text-sm text-gray-500">v2.1.0 (Latest)</p>
                        </div>
                        <button onclick="checkUpdates()" class="text-primary">
                            <i class="fa-solid fa-download"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Support & Help -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-dark flex items-center">
                        <i class="fa-solid fa-question-circle text-primary mr-2"></i>
                        Support & Help
                    </h3>
                </div>
                <div class="p-4 space-y-4">
                    <button onclick="openHelp()" class="w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded">
                        <div class="flex items-center">
                            <i class="fa-solid fa-book text-gray-600 mr-3"></i>
                            <span class="font-medium">Help Center</span>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-400"></i>
                    </button>
                    <button onclick="contactSupport()" class="w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded">
                        <div class="flex items-center">
                            <i class="fa-solid fa-headset text-gray-600 mr-3"></i>
                            <span class="font-medium">Contact Support</span>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-400"></i>
                    </button>
                    <button onclick="sendFeedback()" class="w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded">
                        <div class="flex items-center">
                            <i class="fa-solid fa-comment text-gray-600 mr-3"></i>
                            <span class="font-medium">Send Feedback</span>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-400"></i>
                    </button>
                    <button onclick="rateApp()" class="w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded">
                        <div class="flex items-center">
                            <i class="fa-solid fa-star text-gray-600 mr-3"></i>
                            <span class="font-medium">Rate App</span>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-400"></i>
                    </button>
                </div>
            </div>

            <!-- Logout Section -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-100">
                <div class="p-4">
                    <button onclick="logout()" class="w-full bg-red-500 text-white py-3 rounded-lg font-medium">
                        <i class="fa-solid fa-sign-out-alt mr-2"></i>
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200">
        <div class="flex justify-around items-end py-2">
            <button class="flex flex-col items-center py-1 px-3" onclick="window.location.href='/dashboard'">
                <i class="fa-solid fa-home text-gray-400 text-lg"></i>
                <span class="text-xs mt-1 text-gray-400">Home</span>
            </button>
            <button class="flex flex-col items-center py-1 px-3" onclick="window.location.href='/inventory'">
                <i class="fa-solid fa-box text-gray-400 text-lg"></i>
                <span class="text-xs mt-1 text-gray-400">Inventory</span>
            </button>
            <button class="relative -top-3 bg-primary rounded-full p-3 shadow-lg" onclick="window.location.href='/add-item'">
                <i class="fa-solid fa-barcode text-white text-lg"></i>
            </button>
            <button class="flex flex-col items-center py-1 px-3" onclick="window.location.href='/cart'">
                <i class="fa-solid fa-shopping-cart text-gray-400 text-lg"></i>
                <span class="text-xs mt-1 text-gray-400">Cart</span>
            </button>
            <button class="flex flex-col items-center py-1 px-3" onclick="window.location.href='/profile'">
                <i class="fa-solid fa-user text-primary text-lg"></i>
                <span class="text-xs mt-1 text-primary">Profile</span>
            </button>
        </div>
    </nav>

    <script>
        function goBack() {
            window.history.back();
        }

        function saveSettings() {
            // Save all current settings
            console.log('Settings saved successfully!');
        }

        function editProfile() {
            window.location.href = '/profile';
        }

        function editStoreName() {
            // Open inline edit mode for store name
            const element = document.querySelector('[data-field="storeName"]');
            if (element) {
                element.contentEditable = true;
                element.focus();
            }
        }

        function editAddress() {
            // Open inline edit mode for address
            const element = document.querySelector('[data-field="address"]');
            if (element) {
                element.contentEditable = true;
                element.focus();
            }
        }

        function editGST() {
            // Open inline edit mode for GST
            const element = document.querySelector('[data-field="gst"]');
            if (element) {
                element.contentEditable = true;
                element.focus();
            }
        }

        function setThreshold() {
            // Navigate to threshold settings
            console.log('Opening threshold settings');
        }

        function setPaymentMethod() {
            // Navigate to payment method settings
            console.log('Opening payment method settings');
        }

        function setCreditLimit() {
            // Navigate to credit limit settings
            console.log('Opening credit limit settings');
        }

        function changePassword() {
            // Navigate to password change form
            console.log('Opening password change interface');
        }

        function privacySettings() {
            // Navigate to privacy settings
            console.log('Opening privacy settings');
        }

        function changeLanguage() {
            // Navigate to language selection
            console.log('Opening language selection');
        }

        function changeCurrency() {
            // Navigate to currency selection
            console.log('Opening currency selection');
        }

        function checkUpdates() {
            // Check for app updates
            console.log('Checking for updates');
        }

        function openHelp() {
            // Navigate to help center
            console.log('Opening help center');
        }

        function contactSupport() {
            // Navigate to support contact
            console.log('Opening support contact');
        }

        function sendFeedback() {
            // Navigate to feedback form
            console.log('Opening feedback form');
        }

        function rateApp() {
            // Navigate to app rating
            console.log('Opening app rating');
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                window.location.href = '/signin';
            }
        }

        // Toggle switch functionality
        document.addEventListener('DOMContentLoaded', function() {
            const toggles = document.querySelectorAll('.toggle-switch');
            
            toggles.forEach(toggle => {
                toggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const setting = this.getAttribute('data-setting');
                    const isActive = this.classList.contains('active');
                    
                    console.log(`Setting ${setting} changed to: ${isActive}`);
                    // In real app, this would save the setting preference
                });
            });
        });
    </script>
</body>
</html>